# Shadowrocket: RTX-PERFECT PUBG MOBILE v5.1
# Date: 2026-02-04
# Optimized for Low MS/Zero Lag

[General]
bypass-system = true
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local, *.apple.com, *.icloud.com, e.crashlytics.com
dns-server = 8.8.8.8, 1.1.1.1
ipv6 = false
update-url = https://example.com/rtx-perfect.conf
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32
tun-included-routes = 0.0.0.0/1, 128.0.0.0/1

[Rule]
# PUBG Mobile - Direct connection for lowest latency
DOMAIN-SUFFIX,pubgmobile.com,DIRECT,no-resolve
DOMAIN-SUFFIX,proximabeta.com,DIRECT,no-resolve
DOMAIN-SUFFIX,gclouds.com,DIRECT,no-resolve
DOMAIN-SUFFIX,igamecj.com,DIRECT,no-resolve
DOMAIN-SUFFIX,intl.mtp.qq.com,DIRECT,no-resolve
DOMAIN-KEYWORD,battle.,DIRECT,no-resolve
DOMAIN-KEYWORD,game.,DIRECT,no-resolve

# Block analytics and anti-cheat
DOMAIN-SUFFIX,appsflyer.com,REJECT,no-resolve
DOMAIN-SUFFIX,adjust.com,REJECT,no-resolve
DOMAIN-SUFFIX,anticheatexpert.com,REJECT,no-resolve
DOMAIN-SUFFIX,facebook.com,REJECT,no-resolve
DOMAIN-SUFFIX,google-analytics.com,REJECT,no-resolve

# Local networks
DOMAIN-SUFFIX,local,DIRECT
IP-CIDR,192.168.0.0/16,DIRECT,no-resolve
IP-CIDR,10.0.0.0/8,DIRECT,no-resolve
IP-CIDR,172.16.0.0/12,DIRECT,no-resolve
IP-CIDR,127.0.0.0/8,DIRECT,no-resolve

# Final rule - everything else through proxy
FINAL,PROXY,no-resolve

[Script]
# SINGLE optimized script - multiple triggers cause lag
rtx-perfect = type=http-request,script-path=https://example.com/rtx-perfect.js,pattern=^https?://.*\.(pubgmobile|proximabeta)\.com/.*,max-size=51200,requires-body=true,timeout=15,script-update-interval=86400,enable=true

[MITM]
hostname = *.pubgmobile.com, *.proximabeta.com, *.gclouds.com, *.igamecj.com
enable = true
skip-server-cert-verify = true
tcp-connection = true

[URL Rewrite]
^https?://.*\.(appsflyer|adjust)\.com.* - reject
^https?://.*\.facebook\.com.* - reject
^https?://.*\.google-analytics\.com.* - reject

[Header Rewrite]
^https?://.*\.pubgmobile\.com.* header-replace User-Agent "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148"
